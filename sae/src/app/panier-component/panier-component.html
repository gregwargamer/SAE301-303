<main class="bg-[#f5e6e0] min-h-screen py-8 px-6">
  <h1 class="text-4xl font-light text-[#b8a39e] text-center mb-12 italic">Votre Panier</h1>

  <div *ngIf="loading" class="text-center">
    <p class="text-gray-600">Chargement...</p>
  </div>

  <p *ngIf="errorMessage" class="text-red-500 text-center mb-4">{{ errorMessage }}</p>

  <div *ngIf="!loading && !panier.length" class="text-center py-16">
    <p class="text-gray-500 text-xl">Votre panier est vide.</p>
    <a routerLink="/carte" class="inline-block mt-6 px-8 py-3 bg-[#c9a8a3] text-white rounded-full hover:bg-[#b8978f] transition-colors">
      Découvrir nos produits
    </a>
  </div>

  <div *ngIf="!loading && panier.length" class="max-w-5xl mx-auto">
    <div class="space-y-8 mb-12">
      <div *ngFor="let item of panier" class="flex flex-wrap gap-6 items-center bg-transparent">
        <div class="w-56 h-40 bg-gray-300 rounded-2xl flex-shrink-0 overflow-hidden flex items-center justify-center">
          <span class="text-gray-500 text-sm">Image</span>
        </div>

        <div class="flex-1 min-w-[200px]">
          <h3 class="text-xl font-medium text-[#b8a39e] mb-2">{{ item.name }}</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s
          </p>
        </div>

        <div class="flex flex-col gap-3">
          <div class="bg-[#e8d4cc] rounded-full px-6 py-2 flex justify-between items-center min-w-[180px]">
            <span class="text-[#a89590] font-medium">Prix :</span>
            <span class="text-[#a89590] font-medium">{{ item.prix_unitaire | number: '1.2-2' }}€</span>
          </div>

          <div class="bg-[#e8d4cc] rounded-full px-4 py-2 flex items-center justify-between min-w-[180px]">
            <span class="text-[#a89590] font-medium">Quantité :</span>
            <div class="flex items-center gap-2">
              <button 
                type="button" 
                (click)="updateQuantity(item, -1)"
                class="w-8 h-8 bg-[#d4c4bc] rounded-full text-white font-bold hover:bg-[#c9a8a3] transition-colors flex items-center justify-center">
                -
              </button>
              <span class="text-[#a89590] font-medium w-8 text-center">{{ item.quantite }}</span>
              <button 
                type="button" 
                (click)="updateQuantity(item, 1)"
                class="w-8 h-8 bg-[#d4c4bc] rounded-full text-white font-bold hover:bg-[#c9a8a3] transition-colors flex items-center justify-center">
                +
              </button>
            </div>
          </div>

          <button 
            type="button" 
            (click)="removeItem(item)"
            class="text-red-400 text-sm hover:text-red-600 transition-colors text-right">
            Supprimer
          </button>
        </div>
      </div>
    </div>

    <div class="flex flex-wrap justify-between items-end gap-8 mt-12 pt-8 border-t border-[#d4c4bc]">
      <div class="space-y-3">
        <div class="bg-[#e8d4cc] rounded-2xl px-8 py-4 flex justify-between items-center min-w-[200px]">
          <span class="text-[#a89590] font-medium">Taxe:</span>
          <span class="text-[#a89590] font-medium">{{ (total * 0.2) | number: '1.2-2' }}€</span>
        </div>
        <div class="bg-[#e8d4cc] rounded-2xl px-8 py-4 flex justify-between items-center min-w-[200px]">
          <span class="text-[#a89590] font-medium">Total:</span>
          <span class="text-[#a89590] font-bold text-xl">{{ total | number: '1.2-2' }}€</span>
        </div>
      </div>

      <div class="text-center">
        <button class="w-80 py-4 bg-[#d4c4bc] text-white text-xl font-medium rounded-full hover:bg-[#c9a8a3] transition-colors tracking-widest">
          PAYER
        </button>

        <div class="flex justify-center gap-4 mt-4">
          <div class="w-12 h-8 bg-[#0070ba] rounded flex items-center justify-center">
            <span class="text-white text-xs font-bold">PP</span>
          </div>
          <div class="w-12 h-8 bg-white border border-gray-300 rounded flex items-center justify-center">
            <span class="text-gray-600 text-xs">MC</span>
          </div>
        </div>

        <p class="text-[#a89590] text-xs mt-4 max-w-xs mx-auto leading-relaxed">
          En sélectionnant l'une des options de paiement ci-dessus tu confirmes avoir lu, compris et accepté les Conditions d'utilisation, les Conditions de ventes et la Politique de retour de EISHI.
        </p>
      </div>
    </div>
  </div>
</main>

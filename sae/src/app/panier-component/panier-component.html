<section class="panier">
  <h2>Panier</h2>

  <p *ngIf="loading">Chargement...</p>
  <p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>

  <!-- si panier est vide et pas en chargement-->
  <p *ngIf="!loading && !panier.length">Votre panier est vide.</p>

  <ul *ngIf="!loading && panier.length">
    <li *ngFor="let item of panier">
      <div class="panier__item">
        <div>
          <strong>{{ item.name }}</strong>
          <p>Quantité : {{ item.quantite }}</p>
          <p>Prix unitaire : {{ item.prix_unitaire | number: '1.2-2' }} €</p>
        </div>
        <div class="panier__actions">
          <button type="button" (click)="updateQuantity(item, -1)">-</button>
          <button type="button" (click)="updateQuantity(item, 1)">+</button>
          <button type="button" (click)="removeItem(item)">Supprimer</button>
        </div>
      </div>
    </li>
  </ul>

  <div *ngIf="!loading && panier.length > 0">
    <p>Total du panier : {{ total | number: '1.2-2' }} €</p>
  </div>
</section>
